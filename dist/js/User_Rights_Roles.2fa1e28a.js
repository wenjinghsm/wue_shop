(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["User_Rights_Roles"],{"1af6":function(e,t,r){var n=r("63b6");n(n.S,"Array",{isArray:r("9003")})},"20fd":function(e,t,r){"use strict";var n=r("d9f6"),i=r("aebd");e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},"3d6e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),r("el-card",{staticClass:"box-card"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:7}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getUserList},model:{value:e.queryuser.query,callback:function(t){e.$set(e.queryuser,"query",t)},expression:"queryuser.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getUserList},slot:"append"})],1)],1),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加用户")])],1)],1),r("el-table",{attrs:{data:e.userList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index"}}),r("el-table-column",{attrs:{label:"姓名",prop:"username"}}),r("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),r("el-table-column",{attrs:{label:"电话",prop:"mobile"}}),r("el-table-column",{attrs:{label:"角色",prop:"role_name"}}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{on:{change:function(r){return e.changeState(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{staticClass:"btn",attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){return e.editUserInfo(t.row.id)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.delUser(t.row.id)}}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配权限",placement:"top",enterable:!1}},[r("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(r){return e.getRights(t.row)}}})],1)]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryuser.pagenum,"page-sizes":[1,2,5,10],"page-size":e.queryuser.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:this.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"添加用户",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.addUser,rules:e.rules,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.addUser.username,callback:function(t){e.$set(e.addUser,"username",t)},expression:"addUser.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.addUser.password,callback:function(t){e.$set(e.addUser,"password",t)},expression:"addUser.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.addUser.email,callback:function(t){e.$set(e.addUser,"email",t)},expression:"addUser.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[r("el-input",{model:{value:e.addUser.mobile,callback:function(t){e.$set(e.addUser,"mobile",t)},expression:"addUser.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.reset}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑用户",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editUser,rules:e.editrules,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{disabled:""},model:{value:e.editUser.username,callback:function(t){e.$set(e.editUser,"username",t)},expression:"editUser.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.editUser.email,callback:function(t){e.$set(e.editUser,"email",t)},expression:"editUser.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[r("el-input",{model:{value:e.editUser.mobile,callback:function(t){e.$set(e.editUser,"mobile",t)},expression:"editUser.mobile"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.editReset}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editAdd}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配权限",visible:e.rightDialogVisible,width:"50%"},on:{"update:visible":function(t){e.rightDialogVisible=t},close:e.closeRightDialog}},[r("p",[e._v("当前用户: "+e._s(e.current.username))]),r("p",[e._v("角色名称: "+e._s(e.current.role_name))]),r("span",[e._v("要分配的角色： ")]),r("el-select",{attrs:{placeholder:"请选择要分配的角色"},model:{value:e.check,callback:function(t){e.check=t},expression:"check"}},e._l(e.rightsList,function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}),1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.rightsReset}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editrole()}}},[e._v("确 定")])],1)],1)],1)},i=[],o=(r("96cf"),r("3b8d")),a={data:function(){var e=function(e,t,r){var n=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/;n.test(t)&&r(),r(new Error("请输入合法的邮箱"))},t=function(e,t,r){var n=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;n.test(t)&&r(),r(new Error("请输入合法的电话"))};return{queryuser:{query:"",pagenum:1,pagesize:2},addUser:{username:"",password:"",email:"",mobile:""},editUser:{id:"",username:"",email:"",mobile:""},rights:{username:"",authName:""},rightDialogVisible:!1,totals:0,userList:[],dialogVisible:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:e,trigger:"blur"}],mobile:[{required:!0,message:"请输入电话",trigger:"blur"},{validator:t,trigger:"blur"}]},editrules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:e,trigger:"blur"}],mobile:[{required:!0,message:"请输入电话",trigger:"blur"},{validator:t,trigger:"blur"}]},editDialogVisible:!1,rightsList:[],check:"",current:{}}},created:function(){this.getUserList()},methods:{getUserList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("users",{params:this.queryuser});case 2:if(t=e.sent,r=t.data,200===r.meta.status){e.next=6;break}return e.abrupt("return",this.$message.error("获取列表失败"));case 6:this.totals=r.data.total,this.userList=r.data.users;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.queryuser.pagesize=e,this.getUserList()},handleCurrentChange:function(e){this.queryuser.pagenum=e,this.getUserList()},changeState:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("users/".concat(t.id,"/state/").concat(t.mg_state));case 2:if(r=e.sent,n=r.data,200===n.meta.status){e.next=7;break}return t.mg_state=!t.mg_state,e.abrupt("return",this.$message.error("切换状态失败"));case 7:this.$message.success("切换状态成功");case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),add:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("users",e.addUser);case 4:if(n=t.sent,i=n.data,201===i.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加用户失败"));case 8:e.$message.success("添加用户成功"),e.dialogVisible=!1,e.getUserList();case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},reset:function(){this.$refs.ruleForm.resetFields(),this.dialogVisible=!1},editUserInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.editDialogVisible=!0,e.next=3,this.$http.get("users/"+t);case 3:if(r=e.sent,n=r.data,200===n.meta.status){e.next=7;break}return e.abrupt("return",this.$message.error("获取当前用户失败"));case 7:this.editUser.username=n.data.username,this.editUser.id=n.data.id,this.editUser.email=n.data.email,this.editUser.mobile=n.data.mobile;case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editReset:function(){this.$refs.editForm.resetFields(),this.editDialogVisible=!1},editAdd:function(){var e=this;this.$refs.editForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("users/"+e.editUser.id,e.editUser);case 4:n=t.sent,i=n.data,200!==i.meta.status&&e.$message.error("添加失败"),e.editDialogVisible=!1,e.getUserList();case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},delUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if(r=e.sent,"confirm"===r){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.$http.delete("users/"+t);case 7:if(n=e.sent,i=n.data,200===i.meta.status){e.next=11;break}return e.abrupt("return",this.$message.error("删除失败"));case 11:this.$message.success("已删除"),this.getUserList();case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getRights:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.current.username=t.username,this.current.role_name=t.role_name,this.current.id=t.id,e.next=5,this.$http.get("roles");case 5:if(r=e.sent,n=r.data,200===n.meta.status){e.next=9;break}return e.abrupt("return",this.$message.error("获取用户失败"));case 9:this.rightsList=n.data,this.rightDialogVisible=!0;case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),rightsReset:function(){this.rightDialogVisible=!1},closeRightDialog:function(){this.check=""},editrole:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.check){e.next=2;break}return e.abrupt("return",this.$message.error("请选择要分配的角色"));case 2:return e.next=4,this.$http.put("users/".concat(this.current.id,"/role"),{rid:this.check});case 4:if(r=e.sent,n=r.data,200===n.meta.status){e.next=8;break}return e.abrupt("return",this.$message.error("修改失败"));case 8:this.$message.success("修改成功"),this.rightDialogVisible=!1,this.getUserList();case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},s=a,u=r("2877"),c=Object(u["a"])(s,n,i,!1,null,"f93c3966",null);t["default"]=c.exports},"4be7":function(e,t,r){(function(t){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function(t){"use strict";"function"===typeof bootstrap?bootstrap("promise",t):e.exports=t()})(function(){"use strict";var e=!1;try{throw new Error}catch(pe){e=!!pe.stack}var r,n=$(),i=function(){},o=function(){var e={task:void 0,next:null},r=e,n=!1,i=void 0,a=!1,s=[];function u(){var t,r;while(e.next)e=e.next,t=e.task,e.task=void 0,r=e.domain,r&&(e.domain=void 0,r.enter()),c(t,r);while(s.length)t=s.pop(),c(t);n=!1}function c(e,t){try{e()}catch(pe){if(a)throw t&&t.exit(),setTimeout(u,0),t&&t.enter(),pe;setTimeout(function(){throw pe},0)}t&&t.exit()}if(o=function(e){r=r.next={task:e,domain:a&&t.domain,next:null},n||(n=!0,i())},"object"===typeof t&&"[object process]"===t.toString()&&t.nextTick)a=!0,i=function(){t.nextTick(u)};else if("function"===typeof setImmediate)i="undefined"!==typeof window?setImmediate.bind(window,u):function(){setImmediate(u)};else if("undefined"!==typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){i=p,l.port1.onmessage=u,u()};var p=function(){l.port2.postMessage(0)};i=function(){setTimeout(u,0),p()}}else i=function(){setTimeout(u,0)};return o.runAfter=function(e){s.push(e),n||(n=!0,i())},o}(),a=Function.call;function s(e){return function(){return a.apply(e,arguments)}}var u,c=s(Array.prototype.slice),l=s(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(1===arguments.length)do{if(r in this){t=this[r++];break}if(++r>=n)throw new TypeError}while(1);for(;r<n;r++)r in this&&(t=e(t,this[r],r));return t}),p=s(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),f=s(Array.prototype.map||function(e,t){var r=this,n=[];return l(r,function(i,o,a){n.push(e.call(t,o,a,r))},void 0),n}),d=Object.create||function(e){function t(){}return t.prototype=e,new t},h=Object.defineProperty||function(e,t,r){return e[t]=r.value,e},m=s(Object.prototype.hasOwnProperty),b=Object.keys||function(e){var t=[];for(var r in e)m(e,r)&&t.push(r);return t},g=s(Object.prototype.toString);function v(e){return e===Object(e)}function y(e){return"[object StopIteration]"===g(e)||e instanceof u}u="undefined"!==typeof ReturnValue?ReturnValue:function(e){this.value=e};var k="From previous event:";function w(t,r){if(e&&r.stack&&"object"===typeof t&&null!==t&&t.stack){for(var n=[],i=r;i;i=i.source)i.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>i.stackCounter)&&(h(t,"__minimumStackCounter__",{value:i.stackCounter,configurable:!0}),n.unshift(i.stack));n.unshift(t.stack);var o=n.join("\n"+k+"\n"),a=x(o);h(t,"stack",{value:a,configurable:!0})}}function x(e){for(var t=e.split("\n"),r=[],n=0;n<t.length;++n){var i=t[n];j(i)||R(i)||!i||r.push(i)}return r.join("\n")}function R(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function _(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function j(e){var t=_(e);if(!t)return!1;var i=t[0],o=t[1];return i===r&&o>=n&&o<=le}function $(){if(e)try{throw new Error}catch(pe){var t=pe.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],i=_(n);if(!i)return;return r=i[0],i[1]}}function U(e,t,r){return function(){return"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack),e.apply(e,arguments)}}function L(e){return e instanceof O?e:E(e)?K(e):J(e)}L.resolve=L,L.nextTick=o,L.longStackSupport=!1;var D=1;function S(){var t,r=[],n=[],i=d(S.prototype),o=d(O.prototype);if(o.promiseDispatch=function(e,i,o){var a=c(arguments);r?(r.push(a),"when"===i&&o[1]&&n.push(o[1])):L.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(r)return o;var e=C(t);return A(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},L.longStackSupport&&e)try{throw new Error}catch(pe){o.stack=pe.stack.substring(pe.stack.indexOf("\n")+1),o.stackCounter=D++}function a(i){t=i,L.longStackSupport&&e&&(o.source=i),l(r,function(e,t){L.nextTick(function(){i.promiseDispatch.apply(i,t)})},void 0),r=void 0,n=void 0}return i.promise=o,i.resolve=function(e){t||a(L(e))},i.fulfill=function(e){t||a(J(e))},i.reject=function(e){t||a(Z(e))},i.notify=function(e){t||l(n,function(t,r){L.nextTick(function(){r(e)})},void 0)},i}function T(e){if("function"!==typeof e)throw new TypeError("resolver must be a function.");var t=S();try{e(t.resolve,t.reject,t.notify)}catch(r){t.reject(r)}return t.promise}function V(e){return T(function(t,r){for(var n=0,i=e.length;n<i;n++)L(e[n]).then(t,r)})}function O(e,t,r){void 0===t&&(t=function(e){return Z(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var n=d(O.prototype);if(n.promiseDispatch=function(r,i,o){var a;try{a=e[i]?e[i].apply(n,o):t.call(n,i,o)}catch(s){a=Z(s)}r&&r(a)},n.inspect=r,r){var i=r();"rejected"===i.state&&(n.exception=i.reason),n.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?n:e.value}}return n}function N(e,t,r,n){return L(e).then(t,r,n)}function C(e){if(A(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function A(e){return e instanceof O}function E(e){return v(e)&&"function"===typeof e.then}function F(e){return A(e)&&"pending"===e.inspect().state}function q(e){return!A(e)||"fulfilled"===e.inspect().state}function P(e){return A(e)&&"rejected"===e.inspect().state}"object"===typeof t&&t&&Object({NODE_ENV:"production",VUE_APP_CLI_UI_URL:"",BASE_URL:"/"})&&Object({NODE_ENV:"production",VUE_APP_CLI_UI_URL:"",BASE_URL:"/"}).Q_DEBUG&&(L.longStackSupport=!0),L.defer=S,S.prototype.makeNodeResolver=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(c(arguments,1)):e.resolve(r)}},L.Promise=T,L.promise=T,T.race=V,T.all=ie,T.reject=Z,T.resolve=L,L.passByCopy=function(e){return e},O.prototype.passByCopy=function(){return this},L.join=function(e,t){return L(e).join(t)},O.prototype.join=function(e){return L([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},L.race=V,O.prototype.race=function(){return this.then(L.race)},L.makePromise=O,O.prototype.toString=function(){return"[object Promise]"},O.prototype.then=function(e,t,r){var n=this,i=S(),o=!1;function a(t){try{return"function"===typeof e?e(t):t}catch(r){return Z(r)}}function s(e){if("function"===typeof t){w(e,n);try{return t(e)}catch(r){return Z(r)}}return Z(e)}function u(e){return"function"===typeof r?r(e):e}return L.nextTick(function(){n.promiseDispatch(function(e){o||(o=!0,i.resolve(a(e)))},"when",[function(e){o||(o=!0,i.resolve(s(e)))}])}),n.promiseDispatch(void 0,"when",[void 0,function(e){var t,r=!1;try{t=u(e)}catch(pe){if(r=!0,!L.onerror)throw pe;L.onerror(pe)}r||i.notify(t)}]),i.promise},L.tap=function(e,t){return L(e).tap(t)},O.prototype.tap=function(e){return e=L(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},L.when=N,O.prototype.thenResolve=function(e){return this.then(function(){return e})},L.thenResolve=function(e,t){return L(e).thenResolve(t)},O.prototype.thenReject=function(e){return this.then(function(){throw e})},L.thenReject=function(e,t){return L(e).thenReject(t)},L.nearer=C,L.isPromise=A,L.isPromiseAlike=E,L.isPending=F,O.prototype.isPending=function(){return"pending"===this.inspect().state},L.isFulfilled=q,O.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},L.isRejected=P,O.prototype.isRejected=function(){return"rejected"===this.inspect().state};var z=[],I=[],M=[],B=!0;function G(){z.length=0,I.length=0,B||(B=!0)}function Q(e,r){B&&("object"===typeof t&&"function"===typeof t.emit&&L.nextTick.runAfter(function(){-1!==p(I,e)&&(t.emit("unhandledRejection",r,e),M.push(e))}),I.push(e),r&&"undefined"!==typeof r.stack?z.push(r.stack):z.push("(no stack) "+r))}function H(e){if(B){var r=p(I,e);-1!==r&&("object"===typeof t&&"function"===typeof t.emit&&L.nextTick.runAfter(function(){var n=p(M,e);-1!==n&&(t.emit("rejectionHandled",z[r],e),M.splice(n,1))}),I.splice(r,1),z.splice(r,1))}}function Z(e){var t=O({when:function(t){return t&&H(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return Q(t,e),t}function J(e){return O({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){return null===t||void 0===t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return b(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function K(e){var t=S();return L.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(r){t.reject(r)}}),t.promise}function W(e){return O({isDef:function(){}},function(t,r){return ne(e,t,r)},function(){return L(e).inspect()})}function X(e,t,r){return L(e).spread(t,r)}function Y(e){return function(){function t(e,t){var o;if("undefined"===typeof StopIteration){try{o=r[e](t)}catch(a){return Z(a)}return o.done?L(o.value):N(o.value,n,i)}try{o=r[e](t)}catch(a){return y(a)?L(a.value):Z(a)}return N(o,n,i)}var r=e.apply(this,arguments),n=t.bind(t,"next"),i=t.bind(t,"throw");return n()}}function ee(e){L.done(L.async(e)())}function te(e){throw new u(e)}function re(e){return function(){return X([this,ie(arguments)],function(t,r){return e.apply(t,r)})}}function ne(e,t,r){return L(e).dispatch(t,r)}function ie(e){return N(e,function(e){var t=0,r=S();return l(e,function(n,i,o){var a;A(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,N(i,function(n){e[o]=n,0===--t&&r.resolve(e)},r.reject,function(e){r.notify({index:o,value:e})}))},void 0),0===t&&r.resolve(e),r.promise})}function oe(e){if(0===e.length)return L.resolve();var t=L.defer(),r=0;return l(e,function(n,i,o){var a=e[o];function s(e){t.resolve(e)}function u(e){if(r--,0===r){var n=e||new Error(""+e);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,t.reject(n)}}function c(e){t.notify({index:o,value:e})}r++,N(a,s,u,c)},void 0),t.promise}function ae(e){return N(e,function(e){return e=f(e,L),N(ie(f(e,function(e){return N(e,i,i)})),function(){return e})})}function se(e){return L(e).allSettled()}function ue(e,t){return L(e).then(void 0,void 0,t)}function ce(e,t){return L(e).nodeify(t)}L.resetUnhandledRejections=G,L.getUnhandledReasons=function(){return z.slice()},L.stopUnhandledRejectionTracking=function(){G(),B=!1},G(),L.reject=Z,L.fulfill=J,L.master=W,L.spread=X,O.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},L.async=Y,L.spawn=ee,L["return"]=te,L.promised=re,L.dispatch=ne,O.prototype.dispatch=function(e,t){var r=this,n=S();return L.nextTick(function(){r.promiseDispatch(n.resolve,e,t)}),n.promise},L.get=function(e,t){return L(e).dispatch("get",[t])},O.prototype.get=function(e){return this.dispatch("get",[e])},L.set=function(e,t,r){return L(e).dispatch("set",[t,r])},O.prototype.set=function(e,t){return this.dispatch("set",[e,t])},L.del=L["delete"]=function(e,t){return L(e).dispatch("delete",[t])},O.prototype.del=O.prototype["delete"]=function(e){return this.dispatch("delete",[e])},L.mapply=L.post=function(e,t,r){return L(e).dispatch("post",[t,r])},O.prototype.mapply=O.prototype.post=function(e,t){return this.dispatch("post",[e,t])},L.send=L.mcall=L.invoke=function(e,t){return L(e).dispatch("post",[t,c(arguments,2)])},O.prototype.send=O.prototype.mcall=O.prototype.invoke=function(e){return this.dispatch("post",[e,c(arguments,1)])},L.fapply=function(e,t){return L(e).dispatch("apply",[void 0,t])},O.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},L["try"]=L.fcall=function(e){return L(e).dispatch("apply",[void 0,c(arguments,1)])},O.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])},L.fbind=function(e){var t=L(e),r=c(arguments,1);return function(){return t.dispatch("apply",[this,r.concat(c(arguments))])}},O.prototype.fbind=function(){var e=this,t=c(arguments);return function(){return e.dispatch("apply",[this,t.concat(c(arguments))])}},L.keys=function(e){return L(e).dispatch("keys",[])},O.prototype.keys=function(){return this.dispatch("keys",[])},L.all=ie,O.prototype.all=function(){return ie(this)},L.any=oe,O.prototype.any=function(){return oe(this)},L.allResolved=U(ae,"allResolved","allSettled"),O.prototype.allResolved=function(){return ae(this)},L.allSettled=se,O.prototype.allSettled=function(){return this.then(function(e){return ie(f(e,function(e){function t(){return e.inspect()}return e=L(e),e.then(t,t)}))})},L.fail=L["catch"]=function(e,t){return L(e).then(void 0,t)},O.prototype.fail=O.prototype["catch"]=function(e){return this.then(void 0,e)},L.progress=ue,O.prototype.progress=function(e){return this.then(void 0,void 0,e)},L.fin=L["finally"]=function(e,t){return L(e)["finally"](t)},O.prototype.fin=O.prototype["finally"]=function(e){if(!e||"function"!==typeof e.apply)throw new Error("Q can't apply finally callback");return e=L(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},L.done=function(e,t,r,n){return L(e).done(t,r,n)},O.prototype.done=function(e,r,n){var i=function(e){L.nextTick(function(){if(w(e,o),!L.onerror)throw e;L.onerror(e)})},o=e||r||n?this.then(e,r,n):this;"object"===typeof t&&t&&t.domain&&(i=t.domain.bind(i)),o.then(void 0,i)},L.timeout=function(e,t,r){return L(e).timeout(t,r)},O.prototype.timeout=function(e,t){var r=S(),n=setTimeout(function(){t&&"string"!==typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(n),r.resolve(e)},function(e){clearTimeout(n),r.reject(e)},r.notify),r.promise},L.delay=function(e,t){return void 0===t&&(t=e,e=void 0),L(e).delay(t)},O.prototype.delay=function(e){return this.then(function(t){var r=S();return setTimeout(function(){r.resolve(t)},e),r.promise})},L.nfapply=function(e,t){return L(e).nfapply(t)},O.prototype.nfapply=function(e){var t=S(),r=c(e);return r.push(t.makeNodeResolver()),this.fapply(r).fail(t.reject),t.promise},L.nfcall=function(e){var t=c(arguments,1);return L(e).nfapply(t)},O.prototype.nfcall=function(){var e=c(arguments),t=S();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},L.nfbind=L.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=c(arguments,1);return function(){var r=t.concat(c(arguments)),n=S();return r.push(n.makeNodeResolver()),L(e).fapply(r).fail(n.reject),n.promise}},O.prototype.nfbind=O.prototype.denodeify=function(){var e=c(arguments);return e.unshift(this),L.denodeify.apply(void 0,e)},L.nbind=function(e,t){var r=c(arguments,2);return function(){var n=r.concat(c(arguments)),i=S();function o(){return e.apply(t,arguments)}return n.push(i.makeNodeResolver()),L(o).fapply(n).fail(i.reject),i.promise}},O.prototype.nbind=function(){var e=c(arguments,0);return e.unshift(this),L.nbind.apply(void 0,e)},L.nmapply=L.npost=function(e,t,r){return L(e).npost(t,r)},O.prototype.nmapply=O.prototype.npost=function(e,t){var r=c(t||[]),n=S();return r.push(n.makeNodeResolver()),this.dispatch("post",[e,r]).fail(n.reject),n.promise},L.nsend=L.nmcall=L.ninvoke=function(e,t){var r=c(arguments,2),n=S();return r.push(n.makeNodeResolver()),L(e).dispatch("post",[t,r]).fail(n.reject),n.promise},O.prototype.nsend=O.prototype.nmcall=O.prototype.ninvoke=function(e){var t=c(arguments,1),r=S();return t.push(r.makeNodeResolver()),this.dispatch("post",[e,t]).fail(r.reject),r.promise},L.nodeify=ce,O.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){L.nextTick(function(){e(null,t)})},function(t){L.nextTick(function(){e(t)})})},L.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var le=$();return L})}).call(this,r("f28c"))},"549b":function(e,t,r){"use strict";var n=r("d864"),i=r("63b6"),o=r("241e"),a=r("b0dc"),s=r("3702"),u=r("b447"),c=r("20fd"),l=r("7cd6");i(i.S+i.F*!r("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,p,f=o(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,b=void 0!==m,g=0,v=l(f);if(b&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==v||d==Array&&s(v))for(t=u(f.length),r=new d(t);t>g;g++)c(r,g,b?m(f[g],g):f[g]);else for(p=v.call(f),r=new d;!(i=p.next()).done;g++)c(r,g,b?a(p,m,[i.value,g],!0):i.value);return r.length=g,r}})},"54a1":function(e,t,r){r("6c1c"),r("1654"),e.exports=r("95d5")},"616f":function(e,t,r){"use strict";var n=r("fbee"),i=r.n(n);i.a},"774e":function(e,t,r){e.exports=r("d2d5")},9003:function(e,t,r){var n=r("6b4c");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"95d5":function(e,t,r){var n=r("40c3"),i=r("5168")("iterator"),o=r("481b");e.exports=r("584a").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))}},"9d4e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("权限管理")]),r("el-breadcrumb-item",[e._v("权限列表")])],1),r("el-card",[r("el-table",{attrs:{data:e.rigthsList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index"}}),r("el-table-column",{attrs:{label:"权限名称",prop:"authName"}}),r("el-table-column",{attrs:{label:"路径",prop:"path"}}),r("el-table-column",{attrs:{label:"等级",prop:"level"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.level?r("el-tag",[e._v("一级")]):"1"===t.row.level?r("el-tag",{attrs:{type:"warning"}},[e._v("二级")]):r("el-tag",{attrs:{type:"danger"}},[e._v("三级")])]}}])})],1)],1)],1)},i=[],o=(r("96cf"),r("3b8d")),a={data:function(){return{rigthsList:[]}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("rights/list");case 2:t=e.sent,r=t.data,this.rigthsList=r.data;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},s=a,u=r("2877"),c=Object(u["a"])(s,n,i,!1,null,"b9b75368",null);t["default"]=c.exports},a745:function(e,t,r){e.exports=r("f410")},ac6a:function(e,t,r){for(var n=r("cadf"),i=r("0d58"),o=r("2aba"),a=r("7726"),s=r("32e9"),u=r("84f2"),c=r("2b4c"),l=c("iterator"),p=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(d),m=0;m<h.length;m++){var b,g=h[m],v=d[g],y=a[g],k=y&&y.prototype;if(k&&(k[l]||s(k,l,f),k[p]||s(k,p,g),u[g]=f,v))for(b in n)k[b]||o(k,b,n[b],!0)}},c8bb:function(e,t,r){e.exports=r("54a1")},d2d5:function(e,t,r){r("1654"),r("549b"),e.exports=r("584a").Array.from},df25:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("权限管理")]),r("el-breadcrumb-item",[e._v("角色列表")])],1),r("el-card",[r("el-button",{attrs:{type:"primary"},on:{click:e.addRole}},[e._v("添加角色")]),r("el-table",{attrs:{data:e.rolesList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,function(n,i){return r("el-row",{key:n.id,class:["borderBottom",0===i?"borderTop":""]},[r("el-col",{attrs:{span:5}},[r("el-tag",{attrs:{closable:""},on:{close:function(r){return e.delRight(t.row,n.id)}}},[e._v(e._s(n.authName))]),r("span",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:19}},e._l(n.children,function(n,i){return r("el-row",{key:n.id,class:["borderTop",0===i?"borderTopc":""]},[r("el-col",{attrs:{span:6}},[r("el-tag",{attrs:{type:"warning",closable:""},on:{close:function(r){return e.delRight(t.row,n.id)}}},[e._v(e._s(n.authName))]),r("span",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:18}},e._l(n.children,function(n){return r("el-tag",{key:n.id,class:["tag3"],attrs:{type:"danger",closable:""},on:{close:function(r){return e.delRight(t.row,n.id)}}},[e._v(e._s(n.authName))])}),1)],1)}),1)],1)})}}])}),r("el-table-column",{attrs:{type:"index"}}),r("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),r("el-table-column",{attrs:{label:"角色描述",prop:"roleDesc"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.editRole(t.row.id)}}},[e._v("编辑角色")]),r("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.deleteRole(t.row.id)}}},[e._v("删除角色")]),r("el-button",{attrs:{size:"mini",type:"setting",icon:"el-icon-setting"},on:{click:function(r){return e.roleRight(t.row)}}},[e._v("分配权限")])]}}])})],1)],1),r("el-dialog",{attrs:{title:"添加角色",visible:e.DialogVisible,width:"50%"},on:{"update:visible":function(t){e.DialogVisible=t}}},[r("el-form",{ref:"addForm",attrs:{model:e.addRoles,rules:e.addrules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{model:{value:e.addRoles.roleName,callback:function(t){e.$set(e.addRoles,"roleName",t)},expression:"addRoles.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{model:{value:e.addRoles.roleDesc,callback:function(t){e.$set(e.addRoles,"roleDesc",t)},expression:"addRoles.roleDesc"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.addReset}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑角色",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editRoles,rules:e.editrules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{model:{value:e.editRoles.roleName,callback:function(t){e.$set(e.editRoles,"roleName",t)},expression:"editRoles.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{model:{value:e.editRoles.roleDesc,callback:function(t){e.$set(e.editRoles,"roleDesc",t)},expression:"editRoles.roleDesc"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.editReset}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.edit}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配权限",visible:e.rightdialogVisible,width:"50%"},on:{"update:visible":function(t){e.rightdialogVisible=t},close:e.closerightdialog}},[r("el-tree",{ref:"tree",attrs:{data:e.getAllRole,props:e.pro,"show-checkbox":"","default-expand-all":"","node-key":"id","default-checked-keys":e.defaultCheck}}),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.rightdialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editRights}},[e._v("确 定")])],1)],1)],1)},i=[],o=r("a745"),a=r.n(o);function s(e){if(a()(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var u=r("774e"),c=r.n(u),l=r("c8bb"),p=r.n(l);function f(e){if(p()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return c()(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){return s(e)||f(e)||d()}r("ac6a"),r("96cf");var m=r("3b8d"),b=(r("4be7"),r("1c46"),{data:function(){return{rolesList:[],addRoles:{roleDesc:"",roleName:""},editRoles:{id:"",roleDesc:"",roleName:""},addrules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}]},editrules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}]},DialogVisible:!1,editDialogVisible:!1,rightdialogVisible:!1,getAllRole:"",pro:{label:"authName",children:"children"},defaultCheck:[],roleId:""}},created:function(){this.getRoles()},methods:{getRoles:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("roles");case 2:if(t=e.sent,r=t.data,200===r.meta.status){e.next=6;break}return e.abrupt("return",this.$message.error("获取列表失败"));case 6:this.rolesList=r.data;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addRole:function(){this.DialogVisible=!0},addReset:function(){this.$refs.addForm.resetFields(),this.DialogVisible=!1},add:function(){var e=this;this.$refs.addForm.validate(function(){var t=Object(m["a"])(regeneratorRuntime.mark(function t(r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("roles",e.addRoles);case 4:if(n=t.sent,i=n.data,201===i.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加角色失败"));case 8:e.$message.success("添加角色成功"),e.DialogVisible=!1,e.getRoles();case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},editRole:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.editDialogVisible=!0,e.next=3,this.$http.get("roles/"+t);case 3:if(r=e.sent,n=r.data,200===n.meta.status){e.next=7;break}return e.abrupt("return",this.$message.error("获取当前角色失败"));case 7:this.editRoles.roleName=n.data.roleName,this.editRoles.roleDesc=n.data.roleDesc,this.editRole.id=t;case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editReset:function(){this.$refs.editForm.resetFields(),this.editDialogVisible=!1},edit:function(){var e=this;this.$refs.editForm.validate(function(){var t=Object(m["a"])(regeneratorRuntime.mark(function t(r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("roles/"+e.editRole.id,e.editRoles);case 4:if(n=t.sent,i=n.data,200===i.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("修改角色失败"));case 8:e.$message.success("修改角色成功"),e.editDialogVisible=!1,e.getRoles();case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},deleteRole:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if(r=e.sent,"confirm"!==r){e.next=16;break}return e.next=6,this.$http.delete("roles/"+t);case 6:if(n=e.sent,i=n.data,200===i.meta.status){e.next=12;break}return e.abrupt("return",this.$message.error("删除角色失败"));case 12:this.$message.success("已删除"),this.getRoles();case 14:e.next=17;break;case 16:return e.abrupt("return",this.$message.info("已取消删除"));case 17:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),delRight:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,r){var n,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if(n=e.sent,"confirm"===n){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$http.delete("roles/".concat(t.id,"/rights/").concat(r));case 7:if(i=e.sent,o=i.data,200===o.meta.status){e.next=11;break}return e.abrupt("return",this.$message.error("删除权限失败"));case 11:this.$message.success("删除权限成功"),t.children=o.data;case 13:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),roleRight:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("rights/tree");case 2:if(r=e.sent,n=r.data,200===n.meta.status){e.next=6;break}return e.abrupt("return",this.$message.error("获取当前权限失败"));case 6:this.roleId=t.id,this.getAllRole=n.data,this.rightdialogVisible=!0,this.getLerRole(t,this.defaultCheck);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getLerRole:function(e,t){var r=this;if(!e.children)return t.push(e.id);e.children.forEach(function(e){r.getLerRole(e,t)})},closerightdialog:function(){this.defaultCheck=[]},editRights:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[].concat(h(this.$refs.tree.getCheckedKeys()),h(this.$refs.tree.getHalfCheckedKeys())),r=t.join(","),e.next=4,this.$http.post("roles/".concat(this.roleId,"/rights"),{rids:r});case 4:if(n=e.sent,i=n.data,200===i.meta.status){e.next=8;break}return e.abrupt("return",this.$message.error("添加权限失败"));case 8:this.getRoles(),this.rightdialogVisible=!1;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),g=b,v=(r("616f"),r("2877")),y=Object(v["a"])(g,n,i,!1,null,"5c6a4bd4",null);t["default"]=y.exports},f410:function(e,t,r){r("1af6"),e.exports=r("584a").Array.isArray},fbee:function(e,t,r){}}]);
//# sourceMappingURL=User_Rights_Roles.2fa1e28a.js.map